(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{345:function(v,_,t){"use strict";t.r(_);var s=t(33),c=Object(s.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"四、安全规约"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、安全规约"}},[v._v("#")]),v._v(" 四、安全规约")]),v._v(" "),t("ol",[t("li",[t("p",[v._v("【强制】隶属于用户个人的页面或者功能必须进行权限控制校验。")]),v._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[v._v("说明：")]),v._v(" "),t("p",[v._v("防止没有做水平权限校验就可随意访问、修改、删除别人的数据，比如查看他人的私信内容。")])])]),v._v(" "),t("li",[t("p",[v._v("【强制】用户敏感数据禁止直接展示，必须对展示数据进行脱敏。")]),v._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[v._v("说明：")]),v._v(" "),t("p",[v._v("中国大陆个人手机号码显示为:"),t("code",[v._v("137 **** 0969")]),v._v(" ，隐藏中间 "),t("code",[v._v("4")]),v._v(" 位，防止隐私泄露。")])])]),v._v(" "),t("li",[t("p",[v._v("【强制】用户输入的 "),t("code",[v._v("SQL")]),v._v(" 参数严格使用参数绑定或者 "),t("code",[v._v("METADATA")]),v._v(" 字段值限定，防止 "),t("code",[v._v("SQL")]),v._v(" 注入，禁止字符串拼接 "),t("code",[v._v("SQL")]),v._v(" 访问数据库。")]),v._v(" "),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"custom-block-title"},[v._v("反例：")]),v._v(" "),t("p",[v._v("某系统签名大量被恶意修改，即是因为对于危险字符 "),t("code",[v._v("#")]),v._v("、"),t("code",[v._v("--")]),v._v("没有进行转义，导致数据库更新时，"),t("code",[v._v("where")]),v._v(" 后边的信息被注释掉，对全库进行更新。")])])]),v._v(" "),t("li",[t("p",[v._v("【强制】用户请求传入的任何参数必须做有效性验证。")]),v._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[v._v("说明：")]),v._v(" "),t("p",[v._v("忽略参数校验可能导致：")]),v._v(" "),t("ul",[t("li",[t("code",[v._v("page size")]),v._v(" 过大导致内存溢出")]),v._v(" "),t("li",[v._v("恶意 "),t("code",[v._v("order by")]),v._v(" 导致数据库慢查询")]),v._v(" "),t("li",[v._v("缓存击穿")]),v._v(" "),t("li",[t("code",[v._v("SSRF")])]),v._v(" "),t("li",[v._v("任意重定向")]),v._v(" "),t("li",[t("code",[v._v("SQL")]),v._v(" 注入，"),t("code",[v._v("Shell")]),v._v(" 注入，反序列化注入")]),v._v(" "),t("li",[v._v("正则输入源串拒绝服务 "),t("code",[v._v("ReDoS")])])])])]),v._v(" "),t("li",[t("p",[v._v("【强制】禁止向 "),t("code",[v._v("HTML")]),v._v(" 页面输出未经安全过滤或未正确转义的用户数据。")])]),v._v(" "),t("li",[t("p",[v._v("【强制】"),t("code",[v._v("表单")]),v._v("、"),t("code",[v._v("AJAX")]),v._v(" 提交必须执行 "),t("code",[v._v("CSRF")]),v._v(" 安全验证。")]),v._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[v._v("说明：")]),v._v(" "),t("p",[v._v("CSRF(Cross-site request forgery) 跨站请求伪造是一类常见编程漏洞。对于存在 "),t("code",[v._v("CSRF")]),v._v(" 漏洞的应用/网站，攻击者可以事先构造好 "),t("code",[v._v("URL")]),v._v("，只要受害者用户一访问，后台便在用户不知情的情况下对数据库中用户参数进行相应修改。")])])]),v._v(" "),t("li",[t("p",[v._v("【强制】"),t("code",[v._v("URL")]),v._v(" 外部重定向传入的目标地址必须执行白名单过滤。")])]),v._v(" "),t("li",[t("p",[v._v("【强制】在使用平台资源，譬如短信、邮件、电话、下单、支付，必须实现正确的防重放的机制，如数量限制、疲劳度控制、验证码校验，避免被滥刷而导致资损。")]),v._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[v._v("说明：")]),v._v(" "),t("p",[v._v("如注册时发送验证码到手机，如果没有限制次数和频率，那么可以利用此功能骚扰到其它用户，并造成短信平台资源浪费。")])])]),v._v(" "),t("li",[t("p",[v._v("【推荐】发贴、评论、发送即时消息等用户生成内容的场景必须实现防刷、文本内容违禁词过滤等风控策略。")])])])])}),[],!1,null,null,null);_.default=c.exports}}]);